var model={whiteVotes:0,seats:0,strip:0,votes:[]},dhondt={checkVotes:function(a){var b=.05*this.getTotalVotes();return a.votes>=b?!0:!1},clearData:function(){model.whiteVotes=0,model.seats=0,model.strip=0,model.votes=[]},getVotes:function(){return model.votes},getTotalVotes:function(){for(var a=0,b=0;b<model.votes.length;b++)a+=model.votes[b].votes;return a+=this.getWhiteVotes()},getWhiteVotes:function(){return model.whiteVotes},setWhiteVotes:function(a){model.whiteVotes=a},insertVote:function(a){model.votes.push(a)},getVote:function(a){return model.votes[a]},getHTMLVote:function(a){return"<b>"+model.votes[a].name+"</b>: "+model.votes[a].votes+" votos."},getVotesLenght:function(){return model.votes.length},deleteVote:function(a){model.votes.splice(a,1)},getSeats:function(){return model.seats},setSeats:function(a){model.seats=a},getStrip:function(){return model.strip},setStrip:function(a){model.strip=a},getSeatVotes:function(){for(var a=[],b=0;b<model.votes.length;b++){var c=model.votes[b];if(this.checkVotes(c)){console.log("NO ignora los votos de "+c.name);for(var d=1;d<=model.seats;d++){var e=c.votes/d;a.push([d,c.name,e])}}else console.log("ignora los votos de "+c.name)}a.sort(function(a){return function(b,c){var d=b[a]===c[a]?0:b[a]<c[a]?-1:1;return console.log("devuelve "+d),d}}(2)),console.log(a);for(var f={},b=0;b<this.getSeats();b++){var g=a.pop(),h=g[1];f.hasOwnProperty(h)?f[h]+=1:f[h]=1}return console.log(f),f},getSeatVotesHTML:function(b){var c="";for(a in b)c+="El <b>"+a+"</b> obtiene <b>"+b[a]+"</b> esca√±os.<br>";return c}};